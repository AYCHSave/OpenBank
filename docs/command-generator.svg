<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1278px" preserveAspectRatio="none" style="width:1608px;height:1278px;" version="1.1" viewBox="0 0 1608 1278" width="1608px" zoomAndPan="magnify"><defs><filter height="300%" id="f16jqe99k7czrl" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="4.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="8.0" dy="8.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="36" lengthAdjust="spacingAndGlyphs" textLength="358" x="632" y="34.8047">Command generator</text><!--cluster nl.openweb.command-generator.core.clj--><polygon fill="#FFFF00" filter="url(#f16jqe99k7czrl)" points="28,74.3984,610,74.3984,624,119.375,966,119.375,966,760.3984,28,760.3984,28,74.3984" style="stroke: #000000; stroke-width: 3.0;"/><line style="stroke: #000000; stroke-width: 3.0;" x1="28" x2="624" y1="119.375" y2="119.375"/><text fill="#000000" font-family="sans-serif" font-size="28" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="570" x="36" y="105.4688">nl.openweb.command-generator.core.clj</text><!--entity a--><rect fill="#FEFECE" filter="url(#f16jqe99k7czrl)" height="72.9766" style="stroke: #A80036; stroke-width: 3.0;" width="162" x="229" y="260.3984"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 3.0;" width="20" x="219" y="270.3984"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 3.0;" width="20" x="219" y="313.375"/><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacingAndGlyphs" textLength="122" x="249" y="307.4688">accounts</text><!--entity c--><rect fill="#FEFECE" filter="url(#f16jqe99k7czrl)" height="72.9766" style="stroke: #A80036; stroke-width: 3.0;" width="176" x="636" y="128.3984"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 3.0;" width="20" x="626" y="138.3984"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 3.0;" width="20" x="626" y="181.375"/><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacingAndGlyphs" textLength="136" x="656" y="175.4688">consumer</text><!--entity p--><rect fill="#FEFECE" filter="url(#f16jqe99k7czrl)" height="72.9766" style="stroke: #A80036; stroke-width: 3.0;" width="166" x="501" y="672.3984"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 3.0;" width="20" x="491" y="682.3984"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 3.0;" width="20" x="491" y="725.375"/><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacingAndGlyphs" textLength="126" x="521" y="719.4688">producer</text><!--entity kc--><rect fill="#FFA500" filter="url(#f16jqe99k7czrl)" height="72.9766" style="stroke: #A80036; stroke-width: 3.0;" width="216" x="882" y="990.3984"/><rect fill="#FFA500" height="10" style="stroke: #A80036; stroke-width: 3.0;" width="20" x="872" y="1000.3984"/><rect fill="#FFA500" height="10" style="stroke: #A80036; stroke-width: 3.0;" width="20" x="872" y="1043.375"/><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacingAndGlyphs" textLength="176" x="902" y="1037.4688">Kafka cluster</text><!--entity sr--><rect fill="#FFA500" filter="url(#f16jqe99k7czrl)" height="72.9766" style="stroke: #A80036; stroke-width: 3.0;" width="258" x="869" y="1184.3984"/><rect fill="#FFA500" height="10" style="stroke: #A80036; stroke-width: 3.0;" width="20" x="859" y="1194.3984"/><rect fill="#FFA500" height="10" style="stroke: #A80036; stroke-width: 3.0;" width="20" x="859" y="1237.375"/><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacingAndGlyphs" textLength="218" x="889" y="1231.4688">Schema registry</text><!--link c to a--><path d="M635.6944,192.5538 C566.6596,214.5648 471.0226,245.0578 401.2468,267.3052 " fill="none" id="c-a" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="391.146,270.5258,410.7256,272.6799,400.6734,267.4881,405.8652,257.436,391.146,270.5258" style="stroke: #A80036; stroke-width: 2.0;"/><!--link a to p--><path d="M228.7362,330.3924 C186.317,353.5696 147.1758,387.1242 168,426.3984 C235.907,554.4706 390.885,635.0824 491.3168,675.894 " fill="none" id="a-p" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="500.861,679.7196,487.1296,665.597,491.5789,675.9991,481.1768,680.4484,500.861,679.7196" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="330" x="170" y="419.5352">used to generate transfers</text><!--link c to p--><path d="M708.7588,200.9266 C690.6692,245.4654 660.618,323.3532 642,392.3984 C616.604,486.5798 598.8388,599.553 590.1302,661.6912 " fill="none" id="c-p" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="588.71,671.9516,599.1025,655.2185,590.0811,662.0461,583.2536,653.0247,588.71,671.9516" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="358" x="644" y="419.5352">trigger command generation</text><!--link p to kc--><path d="M597.068,745.0736 C617.718,801.1858 658.568,904.5724 688,930.3984 C738.8186,974.9908 810.44,998.893 871.181,1011.6936 " fill="none" id="p-kc" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="881.6076,1013.8056,865.5543,1002.3911,871.8067,1011.8202,862.3776,1018.0726,881.6076,1013.8056" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="116" x="788" y="831.5352">produces</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="312" x="690" y="862.1563">ConfirmAccountCreation</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="46" x="823" y="892.7773">and</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="288" x="702" y="923.3984">ConfirmMoneyTransfer</text><!--link c to kc--><path d="M810.7834,205.54 C879.484,243.406 970.5376,306.6914 1012,392.3984 C1064.0648,500.0218 1025.438,811.6004 1012,930.3984 C1009.7322,950.447 1004.8808,972.4098 1000.3094,990.2626 " fill="none" id="c-kc" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="801.6716,200.5938,813.6746,216.2121,810.4602,205.3646,821.3077,202.1503,801.6716,200.5938" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="128" x="1132" y="513.5352">consumes</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="122" x="1135" y="544.1563">Heartbeat</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="46" x="1173" y="574.7773">and</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="312" x="1040" y="605.3984">ConfirmAccountCreation</text><!--link c to sr--><path d="M822.6776,178.1644 C1014.271,207.6736 1418,284.6554 1418,409.3984 C1418,409.3984 1418,409.3984 1418,1026.3984 C1418,1091.2564 1250.847,1151.4906 1127.441,1187.1226 " fill="none" id="c-sr" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="812.6004,176.626,829.1869,187.2509,822.4859,178.1352,831.6016,171.4341,812.6004,176.626" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="164" x="1420" y="718.5352">get schema's</text><!--link p to sr--><path d="M583.295,755.4272 C584.7758,830.3956 598.7268,977.2016 680,1062.3984 C734.4666,1119.4944 813.9666,1158.9944 879.85,1184.2204 " fill="none" id="p-sr" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="583.1606,744.9034,575.3917,763.0044,583.2886,754.9026,591.3903,762.7996,583.1606,744.9034" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="164" x="682" y="1036.5352">get schema's</text><!--
@startuml

title Command generator

package "nl.openweb.command-generator.core.clj" #Yellow {
    component accounts as a
    component consumer as c
    component producer as p
}
[Kafka cluster] as kc #Orange
[Schema registry] as sr #Orange

c -> a  :update accounts
a -> p  :used to generate transfers
c - -> p :trigger command generation
p - -> kc :produces\nConfirmAccountCreation\nand\nConfirmMoneyTransfer
c <- - kc :consumes\nHeartbeat\nand\nConfirmAccountCreation
c <- - - sr :get schema's
p <- - - sr :get schema's

@enduml

PlantUML version 1.2019.05(Sat Apr 20 18:45:36 CEST 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_202-release-1483-b49
Operating System: Mac OS X
OS Version: 10.14.4
Default Encoding: UTF-8
Language: en
Country: NL
--></g></svg>